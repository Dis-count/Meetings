- **primal**
\[
\max \quad  c^T x \\
\mbox{s.t.}  \quad  Ax \leq b \\
      x \geq 0
\]

求解最小改变量的模型为：
$$
\begin{align}
min \quad & \sum_{i,j} (A'_{ij} - A{ij})   \\
s.t. \quad  &   A'^T \lambda \geq c     \\
& A'x_0  \leq b \\
& \lambda(A'x_0-b) = 0
\end{align}$$
约束分为三组：对偶问题的可行约束，原问题的可行约束，互补松弛性

在这里，将原来的强对偶性 $c^Tx_0 = b^T\lambda^T$
替换成 互补松弛性 $\lambda(Ax-b) = 0$.
因为强对偶的条件只能对计算的结果进行判断，而无法加入到规划中进行计算，因为没有自变量A'.(针对上回提出将强对偶性的条件加入到目标函数同时加入惩罚系数)

随之而来的问题，在计算完子问题后再计算主问题时，有可能不存在解。下面将分析不存在原因并且给出解释。

对于这里的主子问题循环：

利用子问题得到 $\lambda$ 为主问题提供额外的信息。

子问题为:
\[
\min \quad  b^T \lambda \\
\mbox{s.t.} ~~  A'^T\lambda \geq c \\
    \lambda \geq 0
\]

*******************************************


注意：

- 第一组条件是对偶可行性，与子问题求解的约束相同，但该条件在主问题求解中可能会与子问题冲突
- 第二组条件$A'x_0 \leq b$ 是原问题的可行性要求. 由于子问题只是求解 $\lambda$ 不影响该可行性要求. 换句话说，该式保证了 constraint matrix 在修改过程中始终是可行的, 根据该式可以放心修改。
- 第三组条件给出了 $\lambda$ 中非零元素与对应约束的关系。确定非零元后，与 $\lambda$ 的具体取值无关。但是该条件是导致最终计算得到非最优解的主要原因。(后话)

步骤：
刚开始对于原始constraint matrix A 进行子问题计算得到 $\lambda_1$,带入主问题求解 A'。

当得到 $\lambda_1$ 时，此时 $\lambda_i \neq 0$ 对应约束一定是 valid 的，
而 $\lambda_i = 0$ 则有可能是 valid 或是 invalid.

换句话说，此时 $\lambda_1$
对应了 primal 问题的限制最优解 $x^*$ 的约束. 如果将该 $\lambda_1$ 带入求解主问题，则是将该约束限制在给定解 $x_0$ 上，相当于把n个原来过 $x^*$ 的约束移到 $x_0$处，可知第一次循环必有解。得到 $A'_1$，判断修改了哪些 constraints，带入子问题进行计算 得到 $\lambda_2$。注意此时由于 $\lambda_2$ 是在 $A'$ 基础上进行计算得到, $\lambda_2$ 的值一定不准确，但我们需要的信息是 $\lambda_2$ 中元素哪些为零和非零(这里也是子问题存在的意义，充当一个筛选的作用)。因此，此时将主问题的第一组条件移除，保留第二三组条件再进行计算，得到 $A'_2$。不然此时会存在无可行解的情况。继续求解此时 $\lambda_3$ 如果非零信息与 $\lambda_2$ 不一致则继续上述过程，直到一致。 当最后两次得到的一致时，则求解有三组约束条件的主问题便可以得到此时最小改变量。注意这时得到的最小改变量还不能最终满足最优性。如果改变的约束条件有至少 $n$ 个，则可以得出此时的最小改变量，如果不是，可以采取如下两种方法进一步改进。

第一种： 取 $x_0$ 邻域 进行该过程，可以找到 $\lambda$ 伪0 的位置.
第二种： 对 primal 问题(A') 求解 $x^*$, 判断 $x^*$ 与 $x_0$ 的位置关系，修改对应的 constraint 过 $x_0$.

其实这个过程是筛选 constraints 类似 单纯形。

限制主问题 restricted main problem 如下：
$$
\begin{align}
min \quad & \sum_{i,j} (A'_{ij} - A{ij})   \\
s.t. \quad  & A'x_0  \leq b \\
& \lambda(A'x_0-b) = 0
\end{align}$$

$A \to \lambda_1 \to A'_1(*) \to \lambda_2 \to A'_2 \to \cdots$

* 表示此处必有解，之后是个循环。

源于 $\lambda(A'x-b) =0$ 不确定约束 $A'x=b$是否

当 $f(A') = \|A' - A\|_1$ 时，可以等价化为一次。
当 $x_0$ 给定在原可行域内$Ax \leq b$时，满足$Ax_0 < b$.
则当$x_0 \geq 0$且为最优时, 由于边界是A'x = b，
很显然 A 需要增大或者不变才能变到 $A'$.
根据一范数的特点，每个约束式只会更改一个系数，因而当给定$x_0$ 在原可行域内时，$f(A') = \sum_{{i,j}}(A'_{ij} - A_{ij})$.

之前拉格朗日法无法求解是因为一范数需要通过变量代换去掉绝对值，这样目标函数就会改变。

当 $f(A') = \|A' - A\|_2$ 时，目标函数为二次函数，可以用拉格朗日对偶法


计算的 结果和效果如何指导下一步的方向

敏感度分析是否有帮助

单纯形也可以理解为一种 下降方向的选取，是否可以类比？

如何提高筛选 \lambda 的效率，比如最大的是否有某种特殊意义，可以进基出基之类的操作，以用于提升算法效率

如果考虑特殊的情况是否 可以根据 A 和 x_0 的特点进行筛选规则




原来的线性规划问题 有了约束 然后是 求解最小或最大

如何在不是最小最大的情况下，仅仅用约束来判断一个解是不是最优解

答案是不行
